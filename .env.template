# ======================================
# Database
# 資料庫連線設定
# ======================================

# 資料庫主機名稱或 IP，例如：localhost
DB_HOST=localhost
# 資料庫連接埠，預設為 5432
DB_PORT=5432
# 資料庫使用者名稱，例如：postgres
DB_USER=postgres
# 資料庫密碼，請填入實際密碼
DB_PASSWORD=
# 資料庫名稱，例如：postgres
DB_NAME=postgres


# ======================================
# Supabase（可選）
# 與 Supabase 服務相關的設定
# ======================================

# Supabase 專案 URL，例如：https://xxx.supabase.co
SUPABASE_URL=
# 公開 API 金鑰，用於客戶端存取
SUPABASE_KEY=
# 服務角色金鑰，僅供伺服器端使用（選填）
SUPABASE_SERVICE_ROLE_KEY=


# ======================================
# Crawler
# 爬蟲與速率限制設定
# ======================================

# 是否以無頭模式執行瀏覽器 (true/false)
CRAWLER_HEADLESS=true
# 是否輸出詳細日誌 (true/false)
CRAWLER_VERBOSE=true
# 每次請求的延遲秒數，可為小數
CRAWLER_DELAY=2.5
# 單次請求逾時時間（毫秒）
CRAWLER_TIMEOUT=60000
# 最大同時連線數
CRAWLER_MAX_CONCURRENT=10

# 基礎延遲最小值（秒）
RATE_LIMIT_BASE_DELAY_MIN=1.0
# 基礎延遲最大值（秒）
RATE_LIMIT_BASE_DELAY_MAX=2.0
# 允許的最大延遲（秒）
RATE_LIMIT_MAX_DELAY=30.0
# 最大重試次數
RATE_LIMIT_MAX_RETRIES=2

# 瀏覽器視窗寬度（像素）
BROWSER_VIEWPORT_WIDTH=1920
# 瀏覽器視窗高度（像素）
BROWSER_VIEWPORT_HEIGHT=1080
# 瀏覽器使用者資料儲存路徑
BROWSER_USER_DATA_DIR=./user_data


# ======================================
# Application
# 應用層設定，如嵌入模型與內容處理
# ======================================

# 向量嵌入模型名稱
EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5
# 應用程式使用的密鑰，請自行設定
SECRET_KEY=

# 每個分段的最大字元數
CHUNK_WINDOW_SIZE=100
# 分段滑動步長
CHUNK_STEP_SIZE=50

# 內容輸出格式，可選：html, markdown, plain_text, json
PREFERRED_CONTENT_FORMAT=markdown
# 是否保留原始 HTML 結構 (true/false)
PRESERVE_HTML_STRUCTURE=false
# 是否轉換為 Markdown (true/false)
CONVERT_TO_MARKDOWN=true
# 是否清理多餘空白 (true/false)
CLEAN_WHITESPACE=true

# 目標網址，單一 URL
TARGET_URL=https://money.udn.com/robots.txt

# 儲存結果的資料夾
RESULTS_DIR=ex_result
# 最多處理的 URL 數量
MAX_URLS_TO_PROCESS=10

